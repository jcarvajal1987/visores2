---
import Indice2 from "./Indice2.astro";
const { miniatures} = Astro.props;

---

<div class="carrousel">
    
    <div class="galery">
        <div class="carrousel-container">
            
        {miniatures.map( (pagina)=>
        
                <div class="container-image-carrousel cerrado-global-carrousel">
        
                    <img
                    class="miniature-news-carrousel"
                    width="320"
                    height="180"
                    src={pagina.recorte}
                    alt=""
                    />
                    
                </div>
                <div class="container-image-carrousel cerrado-global-carrousel">
                    
                <img
                class="miniature-news-carrousel"
                width="320"
                height="180"
                src={pagina.contexto}
                alt=""
                />
                </div>
                )}
                <!-- <div id="image-container" class="container-image-carrousel">
        
                <img
                class="miniature-news-carrousel"
                width="320"
                height="180"
                src={miniatures[0].recorte}
                alt=""
                />
                
            </div> -->
                </div>
                <div class="carrousel-cerrar cerrado-global-carrousel">
                    <img class="cerrado-global-carrousel" src="img/close.svg" width="20" height="20" alt="">
                </div>
                <div class="indice">

                    <Indice2 miniatures={miniatures} padre="index-carrousel"/>
                </div>
    </div>
</div>

<style>
    .carrousel{
        z-index: -1;
		position: fixed;
        opacity: 0;
        pointer-events: none;
        background-color: rgba(0, 0, 0, 0.781);
    width: 100%;
    height: 100vh;
    display: grid;
    grid-template-columns: 100%;
    grid-template-rows: 100%;
    transition:1s;
	}
    @keyframes example {
    0%   {z-index: 20;}
    1%  {opacity: 0;}
    100% {opacity: 1;z-index: 20;}
    }
    .active-carrousel{
        animation-name: example;
        animation-fill-mode: forwards;
        animation-duration: 1s;
        pointer-events: all;
    }
    .over-carrousel{
        animation-name: example2;
        animation-duration: 1s;
    }
    @keyframes example2 {
    0%   {z-index: 20;opacity: 1;}
    99%  {z-index: 20;opacity: 0;}
    100% {opacity: 0;z-index: -1;}
    }
    .galery{
        height: fit-content;
        display: grid;
    grid-template-columns: 3fr 1fr;
    }
    .carrousel-container {
    grid-row-start: 1;
    grid-column-start: 1;
    grid-column-end: 5;
    display: grid;
    flex-wrap: wrap;
    width: 100%;
    height: fit-content;
    flex-direction: row;
}
.indice {
    display: grid;
        grid-row-start: 1;
        grid-column-end: 4;
        height: fit-content;
        top: 82px;
        max-width: min-content;
        min-width: 120px;
        background-color: black;
        padding: 10px;
        z-index: 999;
        position: relative;
        right: 42px;
        border-radius: 5px;
    }
    
.carrousel-cerrar{
    z-index: 99;
    grid-column-end: 4;
    grid-row-start: 1;
    position: relative;
    right: 5px;
    top: 14px;
    border-radius: 50%;
    height: 50px;
    width: 50px;
    display: grid;
    place-content: center;
    background-color: #000000;
    color: #ffffff;
    cursor: pointer;
}
.container-image-carrousel{
    overflow-y: scroll;
    display: grid;
    opacity: 0;
    pointer-events: none;
    justify-items: center;
    grid-row-start: 1;
    grid-column-start: 1;
			width: 100%;
			height:auto;
            max-height: 100vh;
            transition:1s;
            padding-bottom: 100px;
		}
        .active-container-image-carrousel{
            opacity: 1;
            pointer-events: all;
        }
        .miniature-news-carrousel{
		filter: contrast(0.9);
        width: min-content;
			max-width: 100%;
			display:flex ;
			height: fit-content;
			max-height: max-content;
            
	}
    @media (min-width: 1px) and (max-width: 960px) {
        .indice{
            display: none;
        }
        .carrousel-cerrar{
            background-color: #00000078;
            top: 10px;
            right: 10px;
        }
    }
    
        @media print{
            .carrousel{
                background-color: white;
                position: relative;
                height: fit-content;
                opacity: 1;
                z-index: 20;
                page-break-before: always;
            }
            
            .carrousel-container{
                height: fit-content;
                page-break-before: always;
            }
            
            .container-image-carrousel{
                page-break-before: always;
            overflow: hidden;
            grid-row-start: auto;
            grid-row-end: auto;
            grid-column-start: auto;
            grid-column-end: auto;
			width: fit-content;
			max-width: 100%;
			display:flex ;
			min-height: 100vh;
			height: 100vh;
			max-height: 100vh;
            opacity: 1;
            padding-bottom: 0;
		}
        .miniature-news-carrousel {
			filter: contrast(1);
			width: auto;
			max-width: 100%;
			display:flex ;
			height: fit-content;
			max-height: 100vh;
		}
        .indice2{
            display: none;
        }
            
    }
    
</style>
<script is:inline>
    




</script>